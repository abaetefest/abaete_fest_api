# GitHub Actions CI/CD Setup

This document explains how to configure the CI/CD pipeline for deploying to Fly.io.

## Prerequisites

- A Fly.io account with access to the app `polished-snowflake-9723`
- Admin access to the GitHub repository

## Setup Instructions

### 1. Add Fly.io Deploy Token to GitHub Secrets

1. Go to your GitHub repository: https://github.com/abaetefest/abaete_fest_api
2. Click on **Settings** → **Secrets and variables** → **Actions**
3. Click **New repository secret**
4. Add the following secret:
   - **Name**: `FLY_API_TOKEN`
   - **Value**: The Fly.io token generated below

#### Fly.io Token

Copy this token and add it to GitHub secrets:

```
fm2_lJPECAAAAAAAAIgXxBCIva2eTopvtvtSRar6xcjkwrVodHRwczovL2FwaS5mbHkuaW8vdjGUAJLOAAJywB8Lk7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxxDzn1UFxb2/VS/iVjeiDEDW4COeuRyk9k3enhkoXqngtjisdGHxWbzvHA/pWfAJUHFL2sIL4/pXAQIsfc/bETBse31+djbtzSZeMZ39FQOSyokRJtUwGHL9mKzvfCS2jep0P/zdKWds4U3wNlelOESq7yRWRvsqVBYOLgjQvewgNxUhKPaGV+hLe1j/EIMbmk/9OagGA05YXup/Grvxk/zyS4gLtwamxvp1VBGgY,fm2_lJPECAAAAAAAAO6RxBCuEJc4kwuuNCLIkA6zcoxewrVodHRwczovL2FwaS5mbHkuaW8vdjGUAJLOAAK8KB8Lk7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxxDzP6vzv1MqVI2n8bzKz5vigt+J2cFadKxHjZmcWja3+CqtQHV8V4d1rd1vx6rOQptlfJhHky+W3vXdx/KjETAbsWAB8FzhnrSumTxJ4qB2AVvoVzcOhDcaNEUvCmU+XF5mBSLYAEceV30CBwY3FSlR+Glw228NJJ/8DcOAoKzyhPVJ7B6GgA6LF3IrEIH++k+E7ChS8y5dmwFMusLqzcrlqIzguVi87rnNU28fH,fm2_lJPECAAAAAAAAIf4xBBS0s1heTPBM2N8a2A9TXhYwrVodHRwczovL2FwaS5mbHkuaW8vdjGUAJLOAAJxzx8Lk7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxxDwZG6YcegQtNU6bI8JszSI6TFzZcPbVt5MAUv37aUqgRsLVW/790Wu4IaJjiNk72mFRYVIm8RdrPfmIacXETG5TLe7ZSo2sr5Hs9yICtsS07wg1pWWfR56xehtj5aWKv5GpHsV0WUqEy+RkAZvJ4WErrKPA4DFiut2vVcu7cgGmK2wXti73rTcEQ7nEIDWm2h13hz5OvTSYnRop+H6vEPdcsQofdLFMGx+12pie,fm2_lJPECAAAAAAAATDPxBDu98AsbiL60EF5PY8Foa25wrVodHRwczovL2FwaS5mbHkuaW8vdjGWAJLOAAHS2R8Lk7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxxDz7HZ2/76yMpDn2WczLt69ceLRWz2x12FKsOQ3+zrkdMCXZS+VqWHv/pQw2gEqmnGpPM7ZZYFH26fWvqhPETObbHVYdmFmVRxdfiCORZ2sWM6FqiR8p5WgaGX7Ai+IT9SauJZrJyrxvYaOj7DJaUaO+YBlaX9yVHL0hsl/FGdH1GzaMl0jyDEtjjnIWkMQgQhXEGbzcWrfHaatPaw0ruO2/r9V/EQMiS5cB0gI99j8=,fm2_lJPECAAAAAAAAp0QxBCOqjXOJzgKq5oZi6UXyV26wrVodHRwczovL2FwaS5mbHkuaW8vdjGWAJLOAAtuyR8Lk7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxxDw8anVJ3LmAC2YyjHKCDWpnRd64cHMh+GxwDrINCO3TOYRoSACQCT1mlH3/BODcLqg2xYp7FC66nxtMgzvETKwtjH1Fgw2CIFZ7ts4wkEjBRZxhvP+mYD11fAkmBxyZV14K3mAGMG7WOUdRvn9xD5vtw5KTGLcsr60PerlaBZKtPGC5YtRnX3fgf9gWkMQgD2oL8obftAmAjoVK7I47jE4glyMjKtUyyR8MudFFPmQ=,fm2_lJPECAAAAAAAAmIJxBCreTjVb5TKhjuXiudcGnOawrVodHRwczovL2FwaS5mbHkuaW8vdjGWAJLOAAryrB8Lk7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxxDxj89Q2KQfR8XhXr4qRA5k6yEqkSjSBMo9XqO6cPBFNjgcYJZfMbg1PgKfDzKdCGJJkgp3eczgMPkZrHZXETJoOLooCTJXUc3jSEO3syQDOiQ2vYEVxzqFK+IRspSzlqty/+N0k/W5tcUCv3Kb4goQFNqAr6Z/mzDEbfyCJn6n1U5q911ZogpRdoDsWkMQg5GNZdFxnxX7jos15xC0qRngOYk4f/QevRRoQNSAn53c=,fm2_lJPECAAAAAAAAEy0xBD6U6V1wJni5+nDzASjuLzewrVodHRwczovL2FwaS5mbHkuaW8vdjGUAJLNXVMfC5O5aHR0cHM6Ly9hcGkuZmx5LmlvL2FhYS92McQ8qhjpbqYv31e4rMVaUR1Sa92c0HZRP0yAdAD8lH2HbdTwOPqERXfrzaViVpDHiGvxl9xdJ2j62L/uABWoxEr7y/pcn40FDpW1SzQQ9JiF75lr5CS+SKu8EllAsQ8eqzfcW+3ICmiIV0t6w94upKdZ22H8SQGZ9jP9NZcTKn1HqNqoFUawws0U48Qg/dYSVpEhjSzCdLPY2sKWpiUo6w7b9WqzGeWQaf7X9wU=,fm2_lJPECAAAAAAAAINZxBCtyidBpEfck5kTKrpVU0QVwrVodHRwczovL2FwaS5mbHkuaW8vdjGUAJLOAAJRJB8Lk7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxxDw+floe4WY2Ra5z39AYBjuNKeIkx2+TfIXxp0oaSpDS5Omd4YZXqqLaD5WbuxRIpu/ur/BAQXCWWw2McdLETNAMUGv/GoM1N1tRuhVi+I2xGuFUjcCPpKk8jYX6FcaC8leqJ1DGPctVKgIO8zEYv20EFTuqdzxPU7gCKe/b1Xx4fLeX7Ss9TwBsrYTEICIFz9KU7ohAQHDxlnGR4Vo3rZAYKQvKP1tGwo5OVD2N,fm2_lJPECAAAAAAAADu3xBDWSJB/vlpPyepAzLlLt60fwrVodHRwczovL2FwaS5mbHkuaW8vdjGUAJLNm4gfC5O5aHR0cHM6Ly9hcGkuZmx5LmlvL2FhYS92McQ8T5tE7WKh5NlAh8VGSR/wEs9EGAflMGjhqJh6txVbyoXlXt4C/H+jqhulezv7mN1EDRO2jVfthiPHH29cxEo7u0QtSzfmmZ5hxMG4AoKAt/nWuA5AwnVRc92HOqR2JmH8PDePPuT04bMlNGAc699dJBxsmXXTIqigMQ6A6tOYj8U1uD361foHFcQgcjli18j4mcWRwfuvENPFraM3ooGJMK17X8IOqr/RxPg=,fm2_lJPECAAAAAAACSK8xBCBic8uoWyhhTaHTghfrNqTwrVodHRwczovL2FwaS5mbHkuaW8vdjGWAJLOABFnnx8Lk7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxxDxHwt5Zykxvi2wmECor892oY0Q4nTHrqDaup1MZCvw86qn4a7U1g0XKSgwzWoUxiXGs+jQhXYJ10F2hgVTETGG82MT3JsmCz5yyhW2ZLI9zsPDtH8GZRyV1R/euT3IUCMg/Gt4y2950vm+QUZIiGEbLnkApIcdovq8E4WiG4vlcpId9JN2RhZgELYAWkMQgtDs3mj7e/dWBRKa3EiV2skXbVQ0Xs4OOxnWr7gtD55c=,fm2_lJPECAAAAAAABFanxBBtVoQQ8I5WiAn+e7p3qpIKwrVodHRwczovL2FwaS5mbHkuaW8vdjGUAJLOAAJt9B8Lk7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxxDyW/akl3dsTkq5xYsKKq6EUfRUFZ6Cr3RD0hi6sZgWjSnUJGrITl/8An6brVw1fYoG8ajLcN8s0SKRTacPETF0c+eVQvjemiKoHdLpZcfkvjB6vL30sa++pwHAEN3iOXfoCvjX9xKQPKNR0Hy6pV5iBa7xR8wy5NuqZcv568H6FS93GHtruclaATPjEIHjcbonyUD/hWTHQ2hdUSUKC/BJaaLJK1zgS5g0Wq+NG,fm2_lJPETF0c+eVQvjemiKoHdLpZcfkvjB6vL30sa++pwHAEN3iOXfoCvjX9xKQPKNR0Hy6pV5iBa7xR8wy5NuqZcv568H6FS93GHtruclaATPjEEMSduHDqp/up2KomvPRcv27DuWh0dHBzOi8vYXBpLmZseS5pby9hYWEvdjGWBJLOaObo6c5o5utfF81ZjwqRzVmPxCDLv4CRbfoIuEhlQ8NI6LMR9NxJcrlnH1EdpFe0Lsl1wg==,fm2_lJPETBse31+djbtzSZeMZ39FQOSyokRJtUwGHL9mKzvfCS2jep0P/zdKWds4U3wNlelOESq7yRWRvsqVBYOLgjQvewgNxUhKPaGV+hLe1j/EEMr5HqEPeeMS2O7SHzIoPwfDuWh0dHBzOi8vYXBpLmZseS5pby9hYWEvdjGWBJLOaObo6c5o5utfF81ZjwqRzVmPxCCfPdcV9dNGb8j5ULCyeP6Ig6Oiu3ox+zKuJFREfBE6yw==,fm2_lJPETG5TLe7ZSo2sr5Hs9yICtsS07wg1pWWfR56xehtj5aWKv5GpHsV0WUqEy+RkAZvJ4WErrKPA4DFiut2vVcu7cgGmK2wXti73rTcEQ7nEEIPwZ1RKicBHHynx4ybbZ4LDuWh0dHBzOi8vYXBpLmZseS5pby9hYWEvdjGWBJLOaObo6c5o5utfF81ZjwqRzVmPxCAedV4KKehC3zjKtxXlrlazw1B8UbbWqf/SPhnVQta3lg==,fm2_lJPETAbsWAB8FzhnrSumTxJ4qB2AVvoVzcOhDcaNEUvCmU+XF5mBSLYAEceV30CBwY3FSlR+Glw228NJJ/8DcOAoKzyhPVJ7B6GgA6LF3IrEEKZeL40J+fii5/SCAXsC5+rDuWh0dHBzOi8vYXBpLmZseS5pby9hYWEvdjGWBJLOaObo6c5o5utfF81ZjwqRzVmPxCB1RebRglnz4O5paXzP2gv6jYacSIJDpq2khf8Z2BdhRQ==,fm2_lJPETJoOLooCTJXUc3jSEO3syQDOiQ2vYEVxzqFK+IRspSzlqty/+N0k/W5tcUCv3Kb4goQFNqAr6Z/mzDEbfyCJn6n1U5q911ZogpRdoDvEEPeK9lTl2T8uxtEz7DQfGp3DuWh0dHBzOi8vYXBpLmZseS5pby9hYWEvdjGYBJLOaObo6c5o5utfF81ZjwqRzVmPFpDEILlXPN8YDaIRoCbkbmM7MmDXdtmVf7cFK1AceD81tvpO,fm2_lJPETGG82MT3JsmCz5yyhW2ZLI9zsPDtH8GZRyV1R/euT3IUCMg/Gt4y2950vm+QUZIiGEbLnkApIcdovq8E4WiG4vlcpId9JN2RhZgELYDEEG/aFPc3x57qo7pzZldNepvDuWh0dHBzOi8vYXBpLmZseS5pby9hYWEvdjGYBJLOaObo6c5o5utfF81ZjwqRzVmPFpDEIEycQx9WkuEpgjqMcaeR2sNYD884TzE+bzscOv1CRG2w,fm2_lJPESju7RC1LN+aZnmHEwbgCgoC3+da4DkDCdVFz3Yc6pHYmYfw8N48+5PThsyU0YBzr310kHGyZddMiqKAxDoDq05iPxTW4PfrV+gcVxBCYC0+3hNVuGt6Q3gqYw4yow7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxlgSSzmjm6OnOaObrXxfNWY8Kkc1Zj8QgwbV+URBKeuN6D9VSIzgk4d1A2UFXGUQ8DpNyed/ua+E=,fm2_lJPESvvL+lyfjQUOlbVLNBD0mIXvmWvkJL5Iq7wSWUCxDx6rN9xb7cgKaIhXS3rD3i6kp1nbYfxJAZn2M/01lxMqfUeo2qgVRrDCzRTjxBCmISeUJk6D7bSQDyj9jVMtw7lodHRwczovL2FwaS5mbHkuaW8vYWFhL3YxlgSSzmjm6OnOaObrXxfNWY8Kkc1Zj8QgmTz+eekIJu1/cHBRhogPZ8FSpZ2ViMivhcldDb0yIkk=,fm2_lJPETObbHVYdmFmVRxdfiCORZ2sWM6FqiR8p5WgaGX7Ai+IT9SauJZrJyrxvYaOj7DJaUaO+YBlaX9yVHL0hsl/FGdH1GzaMl0jyDEtjjnLEEPjUqopF7Y4GJ3QOkMSbU3TDuWh0dHBzOi8vYXBpLmZseS5pby9hYWEvdjGYBJLOaObo6c5o5utfF81ZjwqRzVmPFpDEIO7FglWj7Jr0E+CTxT+7VUJvIN/UXLfPa+8SnvwOagJn,fm2_lJPETNAMUGv/GoM1N1tRuhVi+I2xGuFUjcCPpKk8jYX6FcaC8leqJ1DGPctVKgIO8zEYv20EFTuqdzxPU7gCKe/b1Xx4fLeX7Ss9TwBsrYTEEOMUwJ2kkLbeE8TBJPn05yfDuWh0dHBzOi8vYXBpLmZseS5pby9hYWEvdjGWBJLOaObo6c5o5utfF81ZjwqRzVmPxCD/0l2YC0e+9zDdiKNzYTdeEdYhjNC1PGc/YHuPHXnieA==,fm2_lJPETKwtjH1Fgw2CIFZ7ts4wkEjBRZxhvP+mYD11fAkmBxyZV14K3mAGMG7WOUdRvn9xD5vtw5KTGLcsr60PerlaBZKtPGC5YtRnX3fgf9jEEFYNwirmxdf75tLscg9TNinDuWh0dHBzOi8vYXBpLmZseS5pby9hYWEvdjGYBJLOaObo6c5o5utfF81ZjwqRzVmPFpDEIDuI6CZX1P1xGE7Xz+J4Kn99emRYGQmQJtt/RenLsq5N,fo1_DvCqPK9Agq16lW-_XXWXfYJVYW71X_E2rPeOh2eozLA
```

### 2. Workflow Configuration

The workflow is configured in `.github/workflows/deploy.yml` and will:
- Trigger on every push to the `main` branch
- Deploy to Fly.io app `polished-snowflake-9723`
- Use the `--remote-only` flag to build on Fly.io servers

### 3. Testing the Deployment

Once the secret is added:
1. Push changes to the `main` branch
2. Go to the **Actions** tab in your GitHub repository
3. Monitor the deployment workflow
4. Check the deployment status on Fly.io: `fly status -a polished-snowflake-9723`

## Troubleshooting

- **Deployment fails**: Check the Actions logs in GitHub
- **Authentication issues**: Verify the `FLY_API_TOKEN` secret is correctly set
- **Build errors**: Review the build logs in the Actions output

## Additional Commands

```bash
# Check deployment status
fly status -a polished-snowflake-9723

# View logs
fly logs -a polished-snowflake-9723

# SSH into the app
fly ssh console -a polished-snowflake-9723
```
